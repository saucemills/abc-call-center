{"Version":"2019-10-30","StartAction":"22b80dbd-f9a2-48d0-8ed8-183bd72026eb","Metadata":{"entryPointPosition":{"x":40,"y":40},"ActionMetadata":{"22b80dbd-f9a2-48d0-8ed8-183bd72026eb":{"position":{"x":192.8,"y":55.2}},"accfed8d-16d6-4960-9582-8ae486223ab8":{"position":{"x":481.6,"y":90.4},"parameters":{"LambdaFunctionARN":{"displayName":"transfer"},"LambdaInvocationAttributes":{"callerIntent":{"useDynamic":true}}},"dynamicMetadata":{"callerIntent":true}},"2c55b3ac-12be-4fb9-b755-317e2724da0a":{"position":{"x":780.8,"y":100.8},"parameters":{"Attributes":{"transferType":{"useDynamic":true},"transferpointName":{"useDynamic":true},"transferPoint":{"useDynamic":true},"queueStatus":{"useDynamic":true}}},"dynamicParams":["transferType","transferpointName","transferPoint","queueStatus"]},"9292774a-cafe-4db2-927d-3b541b1a27ff":{"position":{"x":667.2,"y":375.2},"parameters":{"Text":{"useDynamic":true}},"useDynamic":true},"ee54bcc9-a53e-477c-8671-5e2647f6ed48":{"position":{"x":930.4,"y":429.6}},"50306d09-6f47-4bf5-a28f-fb923b462d3b":{"position":{"x":1408,"y":296}},"7f5926b8-e5d3-4605-8f17-9b02ecc42b77":{"position":{"x":2340,"y":140}},"9519777a-551b-4a48-94c9-28a1a895e947":{"position":{"x":1088,"y":116.8},"conditions":[],"conditionMetadata":[{"id":"c8e2ad8b-5bcd-4c1f-a1e1-e41b525999ef","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"open"},{"id":"4da469cc-3bdd-47b2-bed5-ca620c9ad99c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"closed"}]},"e94ba5ee-9cd2-4706-8855-7b28efbfc646":{"position":{"x":2016.8,"y":67.2}},"cc26ea2b-bd62-46ab-838d-3fc2590209e6":{"position":{"x":1433.6,"y":27.2},"parameters":{"QueueId":{"useDynamic":true}},"useDynamic":true},"6991e836-f955-4618-9dbb-d4159d371aa0":{"position":{"x":1739.2,"y":57.6},"parameters":{"Text":{"useDynamic":true}},"useDynamic":true}},"Annotations":[],"name":"ABC_Transfer","description":"","type":"contactFlow","status":"PUBLISHED","hash":{}},"Actions":[{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"22b80dbd-f9a2-48d0-8ed8-183bd72026eb","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"accfed8d-16d6-4960-9582-8ae486223ab8"}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-west-2:058264086287:function:transfer","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"callerIntent":"$.External.callerIntent"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"accfed8d-16d6-4960-9582-8ae486223ab8","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"2c55b3ac-12be-4fb9-b755-317e2724da0a","Errors":[{"NextAction":"9292774a-cafe-4db2-927d-3b541b1a27ff","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"transferType":"$.External.transferType","transferpointName":"$.External.transferpointName","transferPoint":"$.External.transferPoint","queueStatus":"$.External.queueStatus"},"TargetContact":"Current"},"Identifier":"2c55b3ac-12be-4fb9-b755-317e2724da0a","Type":"UpdateContactAttributes","Transitions":{"NextAction":"9519777a-551b-4a48-94c9-28a1a895e947","Errors":[{"NextAction":"9519777a-551b-4a48-94c9-28a1a895e947","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"$.External.errorPrompt"},"Identifier":"9292774a-cafe-4db2-927d-3b541b1a27ff","Type":"MessageParticipant","Transitions":{"NextAction":"ee54bcc9-a53e-477c-8671-5e2647f6ed48","Errors":[{"NextAction":"ee54bcc9-a53e-477c-8671-5e2647f6ed48","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"ee54bcc9-a53e-477c-8671-5e2647f6ed48","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Text":"Your queue is closed or on holiday. Goodbye"},"Identifier":"50306d09-6f47-4bf5-a28f-fb923b462d3b","Type":"MessageParticipant","Transitions":{"NextAction":"ee54bcc9-a53e-477c-8671-5e2647f6ed48","Errors":[{"NextAction":"ee54bcc9-a53e-477c-8671-5e2647f6ed48","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"7f5926b8-e5d3-4605-8f17-9b02ecc42b77","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"ComparisonValue":"$.Attributes.queueStatus"},"Identifier":"9519777a-551b-4a48-94c9-28a1a895e947","Type":"Compare","Transitions":{"NextAction":"9292774a-cafe-4db2-927d-3b541b1a27ff","Conditions":[{"NextAction":"cc26ea2b-bd62-46ab-838d-3fc2590209e6","Condition":{"Operator":"Equals","Operands":["open"]}},{"NextAction":"50306d09-6f47-4bf5-a28f-fb923b462d3b","Condition":{"Operator":"Equals","Operands":["closed"]}}],"Errors":[{"NextAction":"9292774a-cafe-4db2-927d-3b541b1a27ff","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{},"Identifier":"e94ba5ee-9cd2-4706-8855-7b28efbfc646","Type":"TransferContactToQueue","Transitions":{"NextAction":"7f5926b8-e5d3-4605-8f17-9b02ecc42b77","Errors":[{"NextAction":"7f5926b8-e5d3-4605-8f17-9b02ecc42b77","ErrorType":"QueueAtCapacity"},{"NextAction":"7f5926b8-e5d3-4605-8f17-9b02ecc42b77","ErrorType":"NoMatchingError"}]}},{"Parameters":{"QueueId":"$.Attributes.transferPoint"},"Identifier":"cc26ea2b-bd62-46ab-838d-3fc2590209e6","Type":"UpdateContactTargetQueue","Transitions":{"NextAction":"6991e836-f955-4618-9dbb-d4159d371aa0","Errors":[{"NextAction":"6991e836-f955-4618-9dbb-d4159d371aa0","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"$.Attributes.openQueueTransfer"},"Identifier":"6991e836-f955-4618-9dbb-d4159d371aa0","Type":"MessageParticipant","Transitions":{"NextAction":"e94ba5ee-9cd2-4706-8855-7b28efbfc646","Errors":[{"NextAction":"e94ba5ee-9cd2-4706-8855-7b28efbfc646","ErrorType":"NoMatchingError"}]}}]}