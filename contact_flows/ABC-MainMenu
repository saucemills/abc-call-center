{"Version":"2019-10-30","StartAction":"b85b27f9-671c-4d35-b538-718643a90966","Metadata":{"entryPointPosition":{"x":40,"y":40},"ActionMetadata":{"78ac9973-e311-499c-a85a-eb227260f051":{"position":{"x":1263.2,"y":357.6}},"e8d6b6dc-6535-484b-9687-dcb7798df50a":{"position":{"x":2006.4,"y":-25.6},"parameters":{"Text":{"useDynamic":true}},"useDynamic":true},"9c8be96e-d8e6-4f0f-a9d5-d7888eaa570f":{"position":{"x":2338.4,"y":135.2}},"912ceaf0-f406-4edf-b577-0413910cbe88":{"position":{"x":2020,"y":208},"parameters":{"Text":{"useDynamic":true}},"useDynamic":true},"b85b27f9-671c-4d35-b538-718643a90966":{"position":{"x":228,"y":68.8}},"41319dd6-70a8-4ee0-8c75-c871b262d563":{"position":{"x":536,"y":82.4},"parameters":{"LambdaFunctionARN":{"displayName":"dnis-prompt"},"LambdaInvocationAttributes":{"businessLine":{"useDynamic":true}}},"dynamicMetadata":{"businessLine":true}},"d02c4d80-438c-4362-a701-c2022b71b5fd":{"position":{"x":1702.4,"y":-23.2},"parameters":{"Attributes":{"callerIntent":{"useDynamic":true}}},"dynamicParams":["callerIntent"]},"0054108c-5b46-4beb-8565-89d1083c32db":{"position":{"x":1700.8,"y":164},"parameters":{"Attributes":{"callerIntent":{"useDynamic":true}}},"dynamicParams":["callerIntent"]},"04c73ec7-a3a1-4dd8-9fb8-9965c7134979":{"position":{"x":924,"y":369.6}},"Setting prompts":{"position":{"x":933.6,"y":27.2},"isFriendlyName":true,"parameters":{"Attributes":{"mainMenuPrompt":{"useDynamic":true},"openQueueTransfer":{"useDynamic":true},"holidayQueueTransfer":{"useDynamic":true},"selfServiceTransfer":{"useDynamic":true},"errorPrompt":{"useDynamic":true}}},"dynamicParams":["mainMenuPrompt","openQueueTransfer","holidayQueueTransfer","selfServiceTransfer","errorPrompt"]},"ABC_MainMenu Bot":{"position":{"x":1332,"y":6.4},"isFriendlyName":true,"parameters":{"Text":{"useDynamic":true},"LexV2Bot":{"AliasArn":{"displayName":"dev","useLexBotDropdown":true,"lexV2BotName":"ABC_MainMenuBot"}}},"useLexBotDropdown":true,"lexV2BotName":"ABC_MainMenuBot","lexV2BotAliasName":"dev","useDynamic":true,"conditionMetadata":[{"id":"63def3b9-fb70-4d4c-8d66-2132559494d4","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"SelfServiceIntent"},{"id":"e628dc5b-482f-474e-a592-e1d5fa391687","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"HolidayQueueIntent"},{"id":"65170455-4c02-4c39-9608-242f3fdeffe9","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"OpenQueueIntent"}]}},"Annotations":[],"name":"ABC-MainMenu","description":"","type":"contactFlow","status":"PUBLISHED","hash":{}},"Actions":[{"Parameters":{},"Identifier":"78ac9973-e311-499c-a85a-eb227260f051","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Text":"$.Attributes.selfServiceTransfer"},"Identifier":"e8d6b6dc-6535-484b-9687-dcb7798df50a","Type":"MessageParticipant","Transitions":{"NextAction":"9c8be96e-d8e6-4f0f-a9d5-d7888eaa570f","Errors":[{"NextAction":"9c8be96e-d8e6-4f0f-a9d5-d7888eaa570f","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"9c8be96e-d8e6-4f0f-a9d5-d7888eaa570f","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Text":"$.Attributes.callerIntent"},"Identifier":"912ceaf0-f406-4edf-b577-0413910cbe88","Type":"MessageParticipant","Transitions":{"NextAction":"9c8be96e-d8e6-4f0f-a9d5-d7888eaa570f","Errors":[{"NextAction":"9c8be96e-d8e6-4f0f-a9d5-d7888eaa570f","ErrorType":"NoMatchingError"}]}},{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"b85b27f9-671c-4d35-b538-718643a90966","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"41319dd6-70a8-4ee0-8c75-c871b262d563"}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-west-2:058264086287:function:dnis-prompt","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"businessLine":"$.Attributes.businessLine"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"41319dd6-70a8-4ee0-8c75-c871b262d563","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"Setting prompts","Errors":[{"NextAction":"04c73ec7-a3a1-4dd8-9fb8-9965c7134979","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"callerIntent":"$.Lex.IntentName"},"TargetContact":"Current"},"Identifier":"d02c4d80-438c-4362-a701-c2022b71b5fd","Type":"UpdateContactAttributes","Transitions":{"NextAction":"e8d6b6dc-6535-484b-9687-dcb7798df50a","Errors":[{"NextAction":"e8d6b6dc-6535-484b-9687-dcb7798df50a","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"callerIntent":"$.Lex.IntentName"},"TargetContact":"Current"},"Identifier":"0054108c-5b46-4beb-8565-89d1083c32db","Type":"UpdateContactAttributes","Transitions":{"NextAction":"912ceaf0-f406-4edf-b577-0413910cbe88","Errors":[{"NextAction":"912ceaf0-f406-4edf-b577-0413910cbe88","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Something went wrong."},"Identifier":"04c73ec7-a3a1-4dd8-9fb8-9965c7134979","Type":"MessageParticipant","Transitions":{"NextAction":"78ac9973-e311-499c-a85a-eb227260f051","Errors":[{"NextAction":"78ac9973-e311-499c-a85a-eb227260f051","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"mainMenuPrompt":"$.External.mainMenuPrompt","openQueueTransfer":"$.External.openQueueTransfer","holidayQueueTransfer":"$.External.holidayQueueTransfer","selfServiceTransfer":"$.External.selfServiceTransfer","errorPrompt":"$.External.errorPrompt"},"TargetContact":"Current"},"Identifier":"Setting prompts","Type":"UpdateContactAttributes","Transitions":{"NextAction":"ABC_MainMenu Bot","Errors":[{"NextAction":"04c73ec7-a3a1-4dd8-9fb8-9965c7134979","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"$.Attributes.mainMenuPrompt","LexV2Bot":{"AliasArn":"arn:aws:lex:us-west-2:058264086287:bot-alias/RPNQ8M18AG/WYJLBPARKN"}},"Identifier":"ABC_MainMenu Bot","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"04c73ec7-a3a1-4dd8-9fb8-9965c7134979","Conditions":[{"NextAction":"d02c4d80-438c-4362-a701-c2022b71b5fd","Condition":{"Operator":"Equals","Operands":["SelfServiceIntent"]}},{"NextAction":"0054108c-5b46-4beb-8565-89d1083c32db","Condition":{"Operator":"Equals","Operands":["HolidayQueueIntent"]}},{"NextAction":"0054108c-5b46-4beb-8565-89d1083c32db","Condition":{"Operator":"Equals","Operands":["OpenQueueIntent"]}}],"Errors":[{"NextAction":"04c73ec7-a3a1-4dd8-9fb8-9965c7134979","ErrorType":"NoMatchingCondition"},{"NextAction":"04c73ec7-a3a1-4dd8-9fb8-9965c7134979","ErrorType":"NoMatchingError"}]}}]}